<!DOCTYPE html>
<html lang="nl">

<head>
  <title>De Wind Nu - Actuele metingen in Nederland</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">



  <meta name="description" content="De Wind Nu verzamelt actuele windmetingen van meetstations door heel Nederland en visualiseert deze samen met verwachtingen in grafieken. Deze kunnen gebruikt worden voor het informeren van surfers of zeilers.">
    <meta name="keywords" content="actuele wind in knopen,
    windmetingen Brouwersdam,
    metingen meetstations KNMI Rijkswaterstaat,
    Brouwersdam,
    Wijk aan Zee,
    Domburg,
    Vlissingen,
    IJmuiden,
    KNMI,
    Rijkswaterstaat,
    Vlaamse zandbanken,
    meetpalen">
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="De Wind Nu">
    <meta property="og:url" content="https://dewindnu.nl">
    <meta property="og:image" content="https://dewindnu.nl/images/logoEncircled.png">
    <meta property="og:site_name" content="De Wind Nu">
    <meta property="og:description" content="De Wind Nu verzamelt actuele windmetingen van meetstations door heel Nederland en visualiseert deze samen met verwachtingen in grafieken. Deze kunnen gebruikt worden voor het informeren van surfers of zeilers.">
    
    <meta property="twitter:card" content="summary">
    <meta property="twitter:title" content="De Wind Nu">
    <meta property="twitter:url" content="https://dewindnu.nl">
    <meta property="twitter:image" content="https://dewindnu.nl/images/logoEncircled.png">
    <meta property="twitter:description" content="De Wind Nu verzamelt actuele windmetingen van meetstations door heel Nederland en visualiseert deze samen met verwachtingen in grafieken. Deze kunnen gebruikt worden voor het informeren van surfers of zeilers.">


  
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script>
    const data = <%- locationsString %>
</script>

  <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>
  <script src="index.js" type="module" defer></script>

  <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="/generalStyles.css">
  <link rel="stylesheet" href="https://use.typekit.net/xus5meu.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- This style must be here and not in the stylesheet -->
  <style>
    .custom .leaflet-popup-tip,
    .custom .leaflet-popup-content-wrapper {
      font-size: 1.2em;
      font-family: 'Lato', sans-serif;
    }

    .custom .leaflet-popup-tip p,
    .custom .leaflet-popup-content-wrapper p {
      cursor: pointer;
    }
  </style>

  <!-- ICO TAGS -->
<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png">
  <link rel="manifest" href="../images/site.webmanifest">
  <link rel="mask-icon" href="../images/safari-pinned-tab.svg" color="#000000">
  <meta name="apple-mobile-web-app-title" content="De Wind Nu">
  <meta name="application-name" content="De Wind Nu">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#000000">

  <script defer src="https://app.tinyanalytics.io/pixel/Mreolf5HTWkARkpS"></script>
</head>

<body>
  <script> 
    //Execute here to prevent flashing before loading the other JS (see bottom of document as well)
    //Setting theme
    if (!localStorage.getItem("theme")) localStorage.setItem("theme", "auto")

    if (localStorage.getItem("theme") == "auto") {
      if (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.body.classList.add("dark")
      }
    } else if (localStorage.getItem("theme") == "dark") document.body.classList.add("dark")
    else if (localStorage.getItem("theme") == "light") document.body.classList.remove("dark")
  </script>

  <header>
    <svg data-mapfit id="logo" alt="Logo - navigeer home" width="80px" height="80px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 566.929 566.929" color-interpolation-filters="sRGB" fill="none" fill-rule="evenodd" overflow="visible" stroke-linecap="square" stroke-miterlimit="3" xmlns:v="https://vecta.io/nano"><circle cx="58.415" cy="51.328" r="51.328" fill="#000"/><g stroke="#000"><g stroke-linecap="round" stroke-linejoin="round"><path d="M60.092 88.582v457.09" stroke-width="40"/><path d="M28.347 143.192h89.57m-89.57 191.132h89.57" stroke-width="30"/></g><path d="M353.055 235.324v-82.73a11.34 11.34 0 0 1 12.26-11.3l69.83 5.66a11.34 11.34 0 0 1 10.43 11.3v77.07 86.74a11.34 11.34 0 0 1-10.33 11.3l-69.84 6.27a11.34 11.34 0 0 1-12.35-11.29v-93.02zm-154.19 0v-101.8a11.34 11.34 0 0 1 12.44-11.29l69.84 6.81a11.34 11.34 0 0 1 10.23 11.29v94.99 104.66a11.34 11.34 0 0 1-10.14 11.28l-69.83 7.43a11.34 11.34 0 0 1-12.54-11.28v-112.09zm343.07 89.03v-171.19a11.34 11.34 0 0 0-9.89-11.25l-401.34-51.68a11.34 11.34 0 0 0-12.79 11.24v274.57a11.34 11.34 0 0 0 12.79 11.24l401.34-51.69a11.34 11.34 0 0 0 9.89-11.24z" fill="#000" stroke-linejoin="round" stroke-width="15"/></g></svg>
    <h1 data-mapfit id="title">De Wind Nu</h1>
   </header>

  <main>

    <!-- Tab elements are added in JS (bottom of this markup) -->

    <template data-templateMapPopup>
      <div class="popUp alwaysBlackText">
        <button title="Bekijk metingen van deze locatie"></button>
        <p class="windSpeedGusts" title="Windsnelheid en windvlagen">- / -</p>
        <p class="windDirection" title="Windrichting">-</p>
        <p class="relativeTime" title="Tijd sinds deze meting">-</p>
      </button>
    </template>

    <template data-templateMapLocationPreferencePopup>
      <div class="popUp alwaysBlackText">
        <p data-locationPopUpTitle class="locationPopUpTitle">Geschatte locatie. Kies een van de opties:</p>
        <button data-popupLocationPrefferenceHigh title="Kies deze optie" class="colouredButton popupLocationPrefferenceHigh">Hoge nauwkeurigheid (aanbevolen)</button>
        <button data-popupLocationPrefferenceLow title="Kies deze optie" class="colouredButton popupLocationPrefferenceLow">Blijf geschatte locatie gebruiken</button>
        <button data-popupLocationPrefferenceNone title="Kies deze optie" class="colouredButton popupLocationPrefferenceNone">Huidige locatie niet gebruiken</button>
      </button>
    </template>

    <template data-templateListItem>
      <div class="listElement">
        <div class="buttonWrapper"><button title="Bekijk metingen van deze locatie"></button></div>
        <p class="distance" title="Afstand tot deze meetlocatie"></p>
        <p class="windSpeedGusts" title="Windsnelheid en windvlagen">- / -</p>
        <p class="windDirection" title="Windrichting">-</p>
        <p class="relativeTime" title="Tijd sinds deze meting">-</p>
      </button>
    </template>

    <h2 class="sectionHeader">Instellingen</h2>

    <div id="settings">
      <label for="theme">Thema</label>
        <select data-theme>
          <option value="auto">Zelfde als browser / systeem</option>
          <option value="light">Licht</option>
          <option value="dark">Donker</option>
        </select>

        <label for="showBar">Toon tabbladen met snel wisselen tussen weergavevormen</label>
        <label class="switch">
          <input type="checkbox" data-showBar id="showBar"></input>
          <span class="slider round"></span>
        </label>

        <label for="unit">Eenheid</label>
        <select data-unit id="unit">
          <option value="kn">Knopen [kn]</option>
          <option value="m/s">Meter per seconde [m/s]</option>
          <option value="km/h">Kilometer per uur [km/h]</option>
          <option value="mph">Mijl per uur [mph]</option>
          <option value="Bft">Beaufort [Bft]</option>
        </select>

        <label for="decimals">Aantal decimalen</label>
        <select data-decimals id="decimals">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>

        <hr class="spanRow">
      
        <label for="overviewForm">Weergave vorm</label>
        <select data-overviewFormUnderSettings id="dataForm">
          <option value="map">Kaart</option>
          <option value="list">Lijst</option>
        </select>

        <label for="tiles">Kaarttegels</label>
        <select data-tiles id="tiles">
          <option value="auto">Volg thema</option>
          <option value="OpenStreetMap">OpenStreetMap (sneller)</option>
          <option value="Mapbox custom">Mapbox custom</option>
          <option value="Mapbox licht">Mapbox licht</option>
          <option value="Mapbox donker">Mapbox donker</option>
          <option value="Satelliet">Satelliet</option>
          <option value="Satelliet met plaatsnamen en wegen">Satelliet met plaatsnamen en wegen</option>
        </select>
        
        <label for="seaMap">Toon zeekaart</label>
        <label class="switch">
          <input type="checkbox" data-seaMap id="seaMap"></input>
          <span class="slider round"></span>
        </label>

        <label for="locationPreference">Gebruik huidige locatie</label>
        <select data-locationPreference id="locationPreference">
          <option value="high">Hoge nauwkeurigheid (er kan om je locatie gevraagd worden)</option>
          <option value="low">Geschatte locatie gebruiken (gebaseerd op IP-adres)</option>
          <option value="none">Huidige locatie niet gebruiken (niet aan te raden)</option>
        </select>
    </div>

  </main>
  <footer>

    <div id="footerItemWrapper">
      <div class="footerItem" data-about><p>Over</p></div>
      <div class="footerItem" data-feedback><p>Geef feedback</p></div>
      <div class="footerItem" data-credit><p>Credit / bronvermelding</p></div>
      <div class="footerItem" data-disclaimer><p>Disclaimer</p></div>
      <div class="footerItem" data-contact><p>Contact</p></div>
      <div class="footerItem" data-about>
        <a id="source" href="https://github.com/feikescholtens/De-Wind-Nu" target="_blank">
          <p>Broncode op Github</p>
        </a></div>
      </div>
  
  </footer>

  <script> 

    //Execute here to prevent flashing before loading the other JS

    //Setting DOM for map or list
    const main = document.getElementsByTagName("main")[0]
    if (localStorage.getItem("overviewForm") == "map" || !localStorage.getItem("overviewForm")) {
      main.innerHTML = `<div id="mapWrapper"><div data-barLocationNotification id="barLocationNotificationMap" class="barLocationNotification noDisplay"></div>
      <div id="map"></div>
      <button id="settingsButton" class="noDisplay">
        <span title="Scroll naar de instellingen" class="material-symbols-rounded noSelect" id="iconSettings">&#xe8b8;</span>
      </button></div>${main.innerHTML}`
    //Above lines should make the same HTML as in functions.js (homepage) bottom of function changeOverviewForm 
    }
    if (localStorage.getItem("overviewForm") == "list") {
      main.innerHTML = `<div data-barLocationNotification id="barLocationNotificationList" class="barLocationNotification noDisplay"></div><div id="list"></div>${main.innerHTML}`
    //Above lines should make the same HTML as in functions.js (homepage) bottom of function changeOverviewForm
    }

    main.innerHTML = `<div class="tabContainerWrapper"><div data-overviewForm class="tabContainer">
        <div class="tabHeader">
            <div data-map class="active"><span class="material-symbols-rounded tabIcon">&#xe80b;</span>Kaart</div>
            <div data-list><span class="material-symbols-rounded tabIcon">&#xe8d2;</span>Lijst</div>
        </div>
        <div class="tabIndicator"></div>
    </div></div>${main.innerHTML}` 

    //Hiding tabs or displaying it's correct value
    if (localStorage.getItem("showBar") == "0" && localStorage.getItem("showBar"))  document.querySelector("[data-overviewForm]").style.display = "none"
    if (localStorage.getItem("overviewForm") == "list") {
      document.querySelector("[data-map]").classList.remove("active")
      document.querySelector("[data-list]").classList.add("active")
      document.querySelector(".tabIndicator").style.left = `calc(1 * 80px + 5px)`
    }

    //Set variables to use in CSS with correct vh and vw units
    setCSSviewWidthAndHeightOnResize()
    window.onresize = setCSSviewWidthAndHeightOnResize

    function setCSSviewWidthAndHeightOnResize() {
      const vh = window.innerHeight * 0.01
      const vw = document.body.clientWidth * 0.01
      document.documentElement.style.setProperty('--vh', `${vh}px`)
      document.documentElement.style.setProperty('--vw', `${vw}px`)
    }

  </script>
  <p class="hidden forceFontLoad" style="font-weight:600;">x</p>
  <!-- Above lines prevent requests made when displaying a popup when site is already loaded -->
</body>

</html>